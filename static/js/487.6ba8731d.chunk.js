"use strict";(self.webpackChunkphonebook_=self.webpackChunkphonebook_||[]).push([[487],{6487:function(n,e,t){t.r(e),t.d(e,{default:function(){return $}});var r,a,i=t(9434),s=t(8792),c=t(6916),o=function(n){return n.contacts.items},u=function(n){return n.contacts.isLoading},d=function(n){return n.contacts.error},l=(0,c.P1)([o,function(n){return n.filter}],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase().trim())}))})),m=t(168),p=t(6444),x=p.ZP.form(r||(r=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n"])),(function(n){return n.theme.space[5]})),f=t(19),h=t(9135),b=t(184);function j(){var n=(0,i.v9)(o),e=(0,i.I0)();return(0,b.jsxs)(x,{className:"form",onSubmit:function(t){t.preventDefault();var r=t.target.name.value,a=t.target.number.value;if(n.find((function(n){return n.name===r})))return alert("".concat(r," is already in contacts.")),null;var i={name:r,number:a};e((0,s.uK)(i)),t.target.reset()},children:[(0,b.jsxs)(f.__,{children:["Name",(0,b.jsx)(f.II,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,b.jsxs)(f.__,{children:["Number",(0,b.jsx)(f.II,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,b.jsxs)(f.zx,{type:"submit",children:[(0,b.jsx)(h.VAJ,{})," Add contact"]})]})}var v,g,y,w,Z,C,z=p.ZP.ul(a||(a=(0,m.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  gap: ","px;\n"])),(function(n){return n.theme.space[4]})),A=t(9439),I=t(2791),k=p.ZP.li(v||(v=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid;\n\n  gap: ","px;\n  font-weight: ",";\n  @media screen and (max-width: 480px) {\n    font-size: ",";\n    gap: ","px;\n  }\n"])),(function(n){return n.theme.space[6]}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.fontSizes.s}),(function(n){return n.theme.space[4]})),P=p.ZP.span(g||(g=(0,m.Z)(["\n  /* max-width: 200px; */\n  /* overflow-wrap: break-word; */\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  /* @media screen and (max-width: 480px) {\n    inline-size: 165px;\n  } */\n"]))),_=p.ZP.div(y||(y=(0,m.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  gap: ","px;\n  justify-content: space-between;\n  align-items: center;\n"])),(function(n){return n.theme.space[2]})),N=t(4164),q=p.ZP.div(w||(w=(0,m.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n"]))),E=p.ZP.div(Z||(Z=(0,m.Z)(["\n  background-color: ",";\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n  border: 1px solid;\n      border-radius:8px;\n"])),(function(n){return n.theme.colors.white})),S=document.querySelector("#modal-root");function F(n){var e=n.onClose,t=n.children;(0,I.useEffect)((function(){return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}));var r=function(n){"Escape"===n.code&&e(),n.currentTarget===n.target&&e()};return(0,N.createPortal)((0,b.jsx)(q,{onClick:r,children:(0,b.jsx)(E,{children:t})}),S)}var D=p.ZP.form(C||(C=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n  padding: 20px;\n  border: 1px solid;\n      border-radius:8px;\n"])),(function(n){return n.theme.space[5]}));function J(n){var e=n.contact,t=n.onClose,r=(0,i.I0)(),a=(0,i.v9)(o),c=(0,I.useState)(e.name),u=(0,A.Z)(c,2),d=u[0],l=u[1],m=(0,I.useState)(e.number),p=(0,A.Z)(m,2),x=p[0],j=p[1],v=function(n){var e=n.currentTarget,t=e.name,r=e.value;switch(t){case"name":l(r);break;case"number":j(r);break;default:alert("case ".concat(t," doesn't support"))}};return(0,b.jsxs)(D,{className:"form",onSubmit:function(n){n.preventDefault();var i=a.find((function(n){return n.name===d}));if(i)return alert("".concat(d," is already in contacts.")),null;try{r((0,s.mP)({id:e.id,name:d,number:x}))}catch(c){}alert("contact ".concat(d," was successfully changed")),t()},children:[(0,b.jsxs)(f.__,{children:["Name",(0,b.jsx)(f.II,{onChange:v,type:"text",name:"name",value:d,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,b.jsxs)(f.__,{children:["Number",(0,b.jsx)(f.II,{onChange:v,type:"tel",name:"number",value:x,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,b.jsxs)(f.zx,{type:"submit",children:[(0,b.jsx)(h.VAJ,{})," Edit contact"]})]})}var L=function(n){var e=n.id,t=n.number,r=n.name,a=(0,i.I0)(),c=(0,I.useState)(!1),o=(0,A.Z)(c,2),u=o[0],d=o[1];return(0,b.jsxs)(k,{children:[(0,b.jsx)(f.zx,{type:"button",onClick:function(){return d((function(n){return!n}))},children:(0,b.jsx)(h.dfI,{})}),(0,b.jsxs)(_,{children:[(0,b.jsxs)(P,{children:[(0,b.jsx)(h.q1E,{fill:"orange"})," ",r,":"]}),(0,b.jsxs)("span",{children:[(0,b.jsx)(h.DNl,{fill:"orange"})," ",t]})]}),(0,b.jsx)(f.zx,{type:"button",onClick:function(){return a((0,s.GK)(e))},children:(0,b.jsx)(h.lp8,{})}),u&&(0,b.jsx)(F,{onClose:function(){return d((function(n){return!n}))},children:(0,b.jsx)(J,{contact:{name:r,number:t,id:e},onClose:function(){return d((function(n){return!n}))}})})]},e)},B=function(){var n=(0,i.v9)(l);return(0,b.jsx)(z,{children:n.map((function(n){var e=n.id,t=n.number,r=n.name;return(0,b.jsx)(L,{id:e,number:t,name:r},e)}))})},G=t(4808),M=function(){var n=(0,i.I0)();return(0,b.jsxs)(f.__,{children:["Find contacts by name",(0,b.jsx)(f.II,{type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(e){return n((0,G.T)(e.target.value))}})]})},T=t(6702);function $(){var n=(0,i.I0)(),e=(0,i.v9)(u),t=(0,i.v9)(d);return(0,I.useEffect)((function(){n((0,s.yF)())}),[n]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(T.x,{display:"flex",flexDirection:"column",alignItems:"center",gridGap:5,as:"section",children:[(0,b.jsx)("h1",{children:"Phonebook"}),e&&!t&&(0,b.jsx)("b",{children:"Request in progress..."}),t&&(0,b.jsx)("b",{children:t}),(0,b.jsx)(j,{})]}),(0,b.jsxs)(T.x,{display:"flex",flexDirection:"column",alignItems:"center",gridGap:5,as:"section",children:[(0,b.jsx)("h2",{children:"Contacts"}),(0,b.jsx)(M,{}),(0,b.jsx)(B,{})]})]})}}}]);
//# sourceMappingURL=487.6ba8731d.chunk.js.map